<div class="container mt-4" style="max-width:420px">
  <h3>Reset Password</h3>

  <div *ngIf="msg" class="alert alert-success">{{ msg }}</div>
  <div *ngIf="error" class="alert alert-danger">{{ error }}</div>

  <form [formGroup]="form" (ngSubmit)="submit()">
    <label class="form-label">New Password</label>
    <div class="input-group mb-2">
      <input [type]="showPassword ? 'text' : 'password'"
             class="form-control"
             formControlName="newPassword" />
      <button type="button" class="btn btn-outline-secondary" (click)="togglePassword()">
        <i class="fa" [ngClass]="showPassword ? 'fa-eye-slash' : 'fa-eye'"></i>
      </button>
    </div>
    <div *ngIf="form.get('newPassword')?.touched && form.get('newPassword')?.invalid" class="text-danger small mb-2">
      <div *ngIf="form.get('newPassword')?.errors?.['required']">Password is required.</div>
      <div *ngIf="form.get('newPassword')?.errors?.['minlength']">Minimum 8 characters required.</div>
    </div>

    <label class="form-label">Confirm Password</label>
    <div class="input-group mb-2">
      <input [type]="showConfirmPassword ? 'text' : 'password'"
             class="form-control"
             formControlName="confirmPassword" />
      <button type="button" class="btn btn-outline-secondary" (click)="toggleConfirmPassword()">
        <i class="fa" [ngClass]="showConfirmPassword ? 'fa-eye-slash' : 'fa-eye'"></i>
      </button>
    </div>
    <div *ngIf="form.get('confirmPassword')?.touched && form.get('confirmPassword')?.invalid" class="text-danger small mb-2">
      <div *ngIf="form.get('confirmPassword')?.errors?.['required']">Confirm password is required.</div>
    </div>
    <div *ngIf="form.get('confirmPassword')?.touched && form.value.newPassword !== form.value.confirmPassword"
         class="text-danger small mb-2">
      Passwords do not match.
    </div>
    <button class="btn btn-primary w-100 mt-2" [disabled]="form.invalid">Reset Password</button>
  </form>
</div>
